<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Preconnect for faster third-party loads -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://pagead2.googlesyndication.com" crossorigin>
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://pagead2.googlesyndication.com">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DYQTNBBQ22"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-DYQTNBBQ22');
    </script>

    <!-- Primary Meta Tags -->
    <title>Sleep Timer 2026 - Free Online Nap Timer & Power Nap Countdown</title>
    <meta name="title" content="Sleep Timer - Free Online Nap Timer & Power Nap Countdown">
    <meta name="description"
        content="Free sleep timer for power naps! 20-min power nap & 90-min sleep cycle presets. Gentle wake-up alarms. No app needed. ⏱️ Start your nap timer now →">
    <meta name="keywords"
        content="sleep timer, nap timer, power nap timer, 20 minute nap, 90 minute sleep, rest timer, siesta timer, nap alarm">
    <meta name="robots" content="index, follow">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://lazytimer.com/sleep-timer">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://lazytimer.com/sleep-timer">
    <meta property="og:title" content="Sleep Timer - Free Online Nap Timer">
    <meta property="og:description"
        content="Free sleep timer for power naps! 20 min, 30 min, 90 min presets with gentle alarms.">
    <meta property="og:image" content="https://lazytimer.com/stopwatch.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Sleep Timer - Free Online Nap Timer">
    <meta name="twitter:description" content="Free sleep timer for power naps with gentle alarm sounds!">
    <meta name="twitter:image" content="https://lazytimer.com/stopwatch.png">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png">

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5523870768931777"
        crossorigin="anonymous"></script>

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "LazyTimer Sleep Timer",
      "url": "https://lazytimer.com/sleep-timer",
      "description": "Free online sleep and nap timer with gentle alarm sounds. Perfect for power naps, rest breaks, and full sleep cycles.",
      "applicationCategory": "UtilitiesApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "Power nap presets",
        "90 minute sleep cycle",
        "Gentle alarm sounds",
        "Visual countdown",
        "Works on all devices"
      ],
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.9",
        "ratingCount": "1893"
      }
    }
    </script>

    <!-- FAQ Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How long should a power nap be?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The ideal power nap is 20-30 minutes. This length allows you to enter light sleep stages for restoration without falling into deep sleep, which can cause grogginess. Our sleep timer has 20 and 30 minute presets for perfect power naps."
          }
        },
        {
          "@type": "Question",
          "name": "What is a 90 minute sleep cycle?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "A complete sleep cycle lasts approximately 90 minutes and includes all sleep stages from light to deep to REM. Waking at the end of a 90 minute cycle helps you feel refreshed rather than groggy. Set our timer for 90 minutes for a full restorative nap."
          }
        },
        {
          "@type": "Question",
          "name": "Is a 20 minute nap enough?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes! A 20 minute power nap is scientifically proven to boost alertness, mood, and performance. It's long enough to provide restoration but short enough to avoid sleep inertia (that groggy feeling from deep sleep)."
          }
        },
        {
          "@type": "Question",
          "name": "When is the best time to take a nap?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The best time for a nap is early-to-mid afternoon, typically between 1-3 PM. This aligns with your body's natural circadian rhythm dip and won't interfere with nighttime sleep. Avoid napping after 4 PM."
          }
        },
        {
          "@type": "Question",
          "name": "Does this sleep timer have a gentle alarm?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes! Our sleep timer includes multiple alarm options. You can preview each sound and choose one that will wake you gently without startling. The alarm plays automatically when your nap time is complete."
          }
        },
        {
          "@type": "Question",
          "name": "What is the NASA nap?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The NASA nap is a 26-minute power nap based on NASA research. Studies showed pilots who took 26-minute naps improved performance by 34% and alertness by 54%. This duration keeps you in light sleep stages while maximizing cognitive benefits."
          }
        },
        {
          "@type": "Question",
          "name": "Is a 10-minute nap worth it?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, even a 10-minute nap can provide immediate improvements in alertness and performance. Research shows 10-minute naps are surprisingly effective and produce no grogginess upon waking. They're ideal when you're short on time."
          }
        },
        {
          "@type": "Question",
          "name": "Should seniors take naps?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Seniors can benefit from short naps, but should limit them to 10-20 minutes. Research suggests naps longer than 30 minutes in older adults may be associated with cognitive decline. If you need long daily naps, consult a sleep specialist."
          }
        },
        {
          "@type": "Question",
          "name": "Can I nap before a workout?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, a pre-workout nap can boost athletic performance. Elite athletes often take 20-30 minute naps before evening games or competitions. The key is keeping it short—avoid 90-minute naps before exercise as they may cause grogginess."
          }
        },
        {
          "@type": "Question",
          "name": "How do I avoid oversleeping during naps?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Always set a timer before napping. Place your phone or alarm across the room so you must get up to turn it off. Try napping in a slightly upright position rather than lying flat, as this naturally prevents deep sleep. The coffee nap technique also helps—caffeine kicks in after 20-30 minutes."
          }
        }
      ]
    }
    </script>

    <!-- BreadcrumbList Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://lazytimer.com/"
      },{
        "@type": "ListItem",
        "position": 2,
        "name": "Sleep Timer",
        "item": "https://lazytimer.com/sleep-timer"
      }]
    }
    </script>

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="LazyTimer">
    <link rel="apple-touch-icon" href="/stopwatch.png">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Screen Reader Only - visually hidden but accessible */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #2d1b4e 50%, #1e1e3f 100%);
            min-height: 100vh;
            padding: 20px;
            color: #e8e8e8;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 3.5em;
            margin-bottom: 10px;
            color: #ffffff;
            font-weight: 600;
            letter-spacing: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .logo-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, #7b68ee 0%, #9370db 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 25px rgba(123, 104, 238, 0.4);
            font-size: 28px;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.7;
            font-weight: 300;
            letter-spacing: 1px;
        }        /* Main Navigation */
        nav {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 5px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        nav > a, .nav-dropdown {
            position: relative;
        }

        nav > a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            font-size: 1em;
            transition: all 0.3s;
            padding: 10px 16px;
            border-radius: 8px;
        }

        nav > a:hover {
            color: #ffffff;
            background: rgba(102, 126, 234, 0.2);
        }

        nav > a.active {
            color: #667eea;
            font-weight: 600;
        }

        /* Dropdown Trigger */
        .nav-dropdown-trigger {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            font-size: 1em;
            transition: all 0.3s;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            background: none;
            border: none;
            font-family: inherit;
        }

        .nav-dropdown-trigger:hover {
            color: #ffffff;
            background: rgba(102, 126, 234, 0.2);
        }

        .nav-dropdown-trigger svg {
            width: 12px;
            height: 12px;
            fill: currentColor;
            transition: transform 0.3s;
        }

        .nav-dropdown:hover .nav-dropdown-trigger svg,
        .nav-dropdown.active .nav-dropdown-trigger svg {
            transform: rotate(180deg);
        }

        /* Dropdown Menu */
        .nav-dropdown-menu {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(180deg, #1a1f3a 0%, #0f1419 100%);
            border-radius: 12px;
            padding: 12px;
            min-width: 200px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(102, 126, 234, 0.2);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
            display: grid;
            gap: 4px;
        }

        .nav-dropdown-menu.wide {
            min-width: 320px;
            grid-template-columns: repeat(2, 1fr);
        }

        .nav-dropdown-menu.extra-wide {
            min-width: 400px;
            grid-template-columns: repeat(3, 1fr);
        }

        .nav-dropdown:hover .nav-dropdown-menu,
        .nav-dropdown.active .nav-dropdown-menu {
            opacity: 1;
            visibility: visible;
        }

        .nav-dropdown-menu a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            padding: 10px 14px;
            border-radius: 8px;
            font-size: 0.95em;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .nav-dropdown-menu a:hover {
            color: #ffffff;
            background: rgba(102, 126, 234, 0.3);
        }

        .nav-dropdown-menu a.active {
            color: #667eea;
            background: rgba(102, 126, 234, 0.15);
        }

        .nav-dropdown-label {
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.75em;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 8px 14px 4px;
            grid-column: 1 / -1;
        }

        /* Mobile Navigation */
        .nav-toggle {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: 10px;
            z-index: 1001;
        }

        .nav-toggle span {
            display: block;
            width: 28px;
            height: 3px;
            background: #fff;
            margin: 6px 0;
            border-radius: 3px;
            transition: all 0.3s ease;
        }

        .nav-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .nav-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .nav-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        /* Theme Toggle Button */
        .theme-toggle {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 44px;
            height: 44px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 1001;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
            transform: scale(1.1);
        }

        .theme-toggle svg {
            width: 22px;
            height: 22px;
            fill: #fff;
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover svg { transform: rotate(15deg); }
        .theme-toggle .sun-icon { display: none; }
        .theme-toggle .moon-icon { display: block; }

        .nav-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-overlay.active {
            opacity: 1;
        }

                @media (max-width: 768px) {
            .nav-toggle {
                display: block;
                position: absolute;
                top: 20px;
                right: 20px;
            }

            nav {
                position: fixed;
                top: 0;
                right: -300px;
                width: 300px;
                height: 100vh;
                background: linear-gradient(180deg, #1a1f3a 0%, #0a0e27 100%);
                display: flex;
                flex-direction: column;
                justify-content: flex-start;
                align-items: stretch;
                padding: 70px 15px 40px;
                margin: 0;
                z-index: 1000;
                transition: right 0.3s ease;
                box-shadow: -5px 0 30px rgba(0, 0, 0, 0.5);
                overflow-y: auto;
                gap: 2px;
            }

            nav.active {
                right: 0;
            }

            nav > a {
                display: block;
                margin: 0;
                padding: 14px 16px;
                font-size: 1em;
                text-align: left;
                border-radius: 8px;
            }

            nav > a:hover, nav > a.active {
                background: rgba(102, 126, 234, 0.2);
            }

            /* Mobile Dropdown */
            .nav-dropdown {
                width: 100%;
            }

            .nav-dropdown-trigger {
                width: 100%;
                padding: 14px 16px;
                justify-content: space-between;
                font-size: 1em;
            }

            .nav-dropdown-menu {
                position: static;
                transform: none;
                opacity: 1;
                visibility: visible;
                max-height: 0;
                overflow: hidden;
                padding: 0;
                margin: 0;
                border: none;
                box-shadow: none;
                background: rgba(0, 0, 0, 0.2);
                border-radius: 8px;
                transition: max-height 0.3s ease, padding 0.3s ease;
            }

            .nav-dropdown.active .nav-dropdown-menu {
                max-height: 500px;
                padding: 8px;
                margin-top: 4px;
            }

            .nav-dropdown-menu.wide,
            .nav-dropdown-menu.extra-wide {
                min-width: 100%;
                grid-template-columns: repeat(2, 1fr);
            }

            .nav-dropdown-menu a {
                padding: 10px 12px;
                font-size: 0.9em;
            }

            .nav-dropdown-label {
                padding: 6px 12px 2px;
                font-size: 0.7em;
            }

            .nav-dropdown:hover .nav-dropdown-menu {
                max-height: 0;
                padding: 0;
            }

            .nav-dropdown:hover.active .nav-dropdown-menu {
                max-height: 500px;
                padding: 8px;
            }

            .nav-overlay.active {
                display: block;
            }

            header {
                position: relative;
                margin-bottom: 15px;
            }

            header p {
                margin-bottom: 0;
            }
        }

        @media (max-width: 480px) {
            body { padding: 8px; }
            header h1 { font-size: 1.5em; flex-direction: row; gap: 6px; }
            header { margin-bottom: 8px; }
            .progress-timer { width: 160px; height: 160px; }
            .progress-ring { width: 160px; height: 160px; }
            .time-display { font-size: 1.5em; }
            .timer-status { font-size: 0.6em; }
            .timer-container { padding: 12px 10px; gap: 12px; }
            .timer-selector { display: none; }
            .custom-timer-section { display: none; }
            .flip-card { width: 40px; height: 60px; }
            .flip-card-inner { font-size: 2.2em; }
            .colon { font-size: 2.2em; }
            .quick-btn { padding: 6px 10px; font-size: 0.8em; }
            .control-btn { padding: 10px 16px; font-size: 0.9em; }
        }

        @media (max-width: 360px) {
            body { padding: 5px; }
            header { margin-bottom: 5px; }
            header h1 { font-size: 1.3em; gap: 5px; }
            .logo-icon { width: 25px; height: 25px; }
            .progress-timer { width: 140px; height: 140px; }
            .progress-ring { width: 140px; height: 140px; }
            .time-display { font-size: 1.3em; }
            .timer-status { font-size: 0.55em; }
            .timer-container { padding: 10px 8px; gap: 10px; }
            .flip-card { width: 35px; height: 52px; }
            .flip-card-inner { font-size: 1.8em; }
            .colon { font-size: 1.8em; }
            .quick-btn { padding: 5px 8px; font-size: 0.75em; }
            .control-btn { padding: 8px 14px; font-size: 0.85em; }
        }

        .ad-container {
            margin: 20px auto;
            text-align: center;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Anchor Ad - Sticky Bottom */
        .anchor-ad {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 9999;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(10px);
            padding: 8px 0;
            text-align: center;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
        }

        .anchor-ad-close {
            position: absolute;
            top: -12px;
            right: 10px;
            width: 24px;
            height: 24px;
            background: #667eea;
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .anchor-ad-close:hover {
            background: #764ba2;
        }

        body.has-anchor-ad {
            padding-bottom: 100px;
        }

        .timer-container {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            padding: 60px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.6);
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 60px;
        }

        .stopwatch-container {
            position: relative;
            width: 450px;
            height: 450px;
            flex-shrink: 0;
            filter: drop-shadow(0 20px 40px rgba(123, 104, 238, 0.3));
        }

        .stopwatch-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .hand {
            position: absolute;
            bottom: 43.53%;
            left: 50%;
            transform-origin: bottom center;
            border-radius: 50% 50% 0 0;
        }

        .minute-hand {
            width: 7px;
            height: 22%;
            margin-left: -3.5px;
            background: linear-gradient(180deg, #7b68ee 0%, #9370db 100%);
            z-index: 101;
            box-shadow: 0 0 15px rgba(123, 104, 238, 0.5);
        }

        .second-hand {
            width: 5px;
            height: 26%;
            margin-left: -2.5px;
            background: linear-gradient(180deg, #dda0dd 0%, #c285c2 100%);
            z-index: 102;
            box-shadow: 0 0 20px rgba(221, 160, 221, 0.6);
        }

        /* Progress Circle Timer */
        .progress-timer {
            position: relative;
            width: 350px;
            height: 350px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .progress-ring {
            transform: rotate(-90deg);
            width: 350px;
            height: 350px;
        }

        .progress-ring-bg {
            fill: none;
            stroke: rgba(123, 104, 238, 0.2);
            stroke-width: 12;
        }

        .progress-ring-fill {
            fill: none;
            stroke: #7b68ee;
            stroke-width: 12;
            stroke-linecap: round;
            transition: stroke-dashoffset 0.3s ease, stroke 0.5s ease;
        }

        .timer-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
        }

        .timer-status {
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 3px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 5px;
            text-transform: uppercase;
        }

        .time-display {
            font-size: 3.5em;
            font-weight: 700;
            color: #ffffff;
            font-family: 'Courier New', monospace;
            text-shadow: 0 0 30px rgba(123, 104, 238, 0.5);
        }

        /* Progress circle states */
        .progress-timer.running .progress-ring-fill {
            stroke: #7b68ee;
            filter: drop-shadow(0 0 20px rgba(123, 104, 238, 0.6));
            animation: ring-pulse-purple 2s ease-in-out infinite;
        }

        .progress-timer.warning .progress-ring-fill {
            stroke: #f39c12;
            filter: drop-shadow(0 0 20px rgba(243, 156, 18, 0.6));
            animation: ring-pulse-warning 1.5s ease-in-out infinite;
        }

        .progress-timer.critical .progress-ring-fill {
            stroke: #e74c3c;
            filter: drop-shadow(0 0 25px rgba(231, 76, 60, 0.8));
            animation: ring-pulse-critical 0.8s ease-in-out infinite;
        }

        .progress-timer.complete .progress-ring-fill {
            stroke: #2ecc71;
            filter: drop-shadow(0 0 25px rgba(46, 204, 113, 0.8));
        }

        .progress-timer.paused .progress-ring-fill {
            stroke: rgba(123, 104, 238, 0.5);
            filter: none;
            animation: none;
        }

        @keyframes ring-pulse-purple {
            0%, 100% { filter: drop-shadow(0 0 20px rgba(123, 104, 238, 0.4)); }
            50% { filter: drop-shadow(0 0 35px rgba(123, 104, 238, 0.7)); }
        }

        @keyframes ring-pulse-warning {
            0%, 100% { filter: drop-shadow(0 0 20px rgba(243, 156, 18, 0.4)); }
            50% { filter: drop-shadow(0 0 35px rgba(243, 156, 18, 0.7)); }
        }

        @keyframes ring-pulse-critical {
            0%, 100% { filter: drop-shadow(0 0 15px rgba(231, 76, 60, 0.6)); }
            50% { filter: drop-shadow(0 0 30px rgba(231, 76, 60, 0.9)); }
        }

        .controls-panel {
            flex: 1;
            min-width: 350px;
            display: flex;
            flex-direction: column;
            gap: 25px;
            align-items: center;
        }

        .timer-title {
            font-size: 2.5em;
            color: #7b68ee;
            text-align: center;
            margin-bottom: 10px;
        }

        .nap-presets {
            width: 100%;
        }

        .nap-presets h3 {
            color: #7b68ee;
            margin-bottom: 15px;
            text-align: center;
        }

        .preset-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .preset-btn {
            padding: 15px 20px;
            background: rgba(123, 104, 238, 0.2);
            border: 1px solid rgba(123, 104, 238, 0.3);
            border-radius: 10px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
        }

        .preset-btn:hover {
            background: rgba(123, 104, 238, 0.4);
            transform: translateY(-2px);
        }

        .preset-btn.active {
            background: linear-gradient(135deg, #7b68ee 0%, #9370db 100%);
            border-color: transparent;
        }

        .digital-timer {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin: 20px 0;
        }

        .flip-card {
            position: relative;
            width: 100px;
            height: 140px;
            background: linear-gradient(to bottom, #f5f5f5 0%, #e0e0e0 50%, #d0d0d0 50%, #c0c0c0 100%);
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        .flip-card::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: #1a1a1a;
            z-index: 2;
        }

        .flip-card-inner {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5.5em;
            font-weight: 700;
            color: #1a1a1a;
            font-family: 'Courier New', monospace;
        }

        .colon {
            font-size: 5.5em;
            font-weight: 700;
            color: #ffffff;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 49% { opacity: 1; }
            50%, 99% { opacity: 0.3; }
        }

        .flip-card.flipping .flip-card-inner {
            animation: flip 0.6s ease-in-out;
        }

        @keyframes flip {
            0% { transform: rotateX(0deg); }
            50% { transform: rotateX(-90deg); }
            100% { transform: rotateX(0deg); }
        }

        .sound-selector {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(123, 104, 238, 0.1);
            padding: 15px 25px;
            border-radius: 12px;
            border: 1px solid rgba(123, 104, 238, 0.3);
        }

        .sound-selector label {
            color: #7b68ee;
            font-weight: 600;
        }

        .sound-selector select {
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid rgba(123, 104, 238, 0.4);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 1em;
            cursor: pointer;
        }

        .sound-selector select option {
            background: #2d1b4e;
            color: white;
        }

        .test-sound-btn, .stop-sound-btn {
            padding: 10px 15px;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        .test-sound-btn {
            background: rgba(123, 104, 238, 0.3);
            border: 1px solid rgba(123, 104, 238, 0.5);
        }

        .test-sound-btn:hover {
            background: rgba(123, 104, 238, 0.5);
        }

        .stop-sound-btn {
            background: rgba(231, 76, 60, 0.3);
            border: 1px solid rgba(231, 76, 60, 0.5);
        }

        .stop-sound-btn:hover {
            background: rgba(231, 76, 60, 0.5);
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 20px 50px;
            font-size: 1.2em;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            text-transform: uppercase;
        }

        .start-btn {
            background: linear-gradient(135deg, #7b68ee 0%, #9370db 100%);
            color: white;
            box-shadow: 0 10px 30px rgba(123, 104, 238, 0.4);
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(123, 104, 238, 0.5);
        }

        .pause-btn {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
        }

        .reset-btn {
            background: linear-gradient(135deg, #dda0dd 0%, #c285c2 100%);
            color: white;
        }

        .seo-content {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            padding: 50px;
            margin-bottom: 40px;
        }

        .seo-content h2 {
            font-size: 2.2em;
            color: #ffffff;
            margin-bottom: 25px;
        }

        .seo-content h3 {
            font-size: 1.6em;
            color: #7b68ee;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .seo-content p {
            font-size: 1.1em;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 20px;
        }

        .seo-content ul {
            margin: 20px 0 20px 30px;
        }

        .seo-content li {
            font-size: 1.05em;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 12px;
        }

        .faq-section {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            padding: 50px;
            margin-bottom: 40px;
        }

        .faq-item {
            margin-bottom: 30px;
            padding-bottom: 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .faq-item:last-child {
            border-bottom: none;
        }

        .faq-question {
            font-size: 1.4em;
            color: #7b68ee;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .faq-answer {
            font-size: 1.1em;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.85);
        }

        .related-timers {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            text-align: center;
        }

        .related-timers h3 {
            color: #ffffff;
            margin-bottom: 20px;
        }

        .related-timers a {
            display: inline-block;
            color: #7b68ee;
            text-decoration: none;
            padding: 10px 20px;
            margin: 5px;
            border: 1px solid rgba(123, 104, 238, 0.3);
            border-radius: 8px;
            transition: all 0.3s;
        }

        .related-timers a:hover {
            background: rgba(123, 104, 238, 0.2);
        }

        footer {
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            padding: 30px;
        }

        footer a {
            color: rgba(255, 255, 255, 0.5);
            text-decoration: none;
        }

        /* Fullscreen Button */
        .fullscreen-btn {
            padding: 12px 20px;
            background: rgba(123, 104, 238, 0.2);
            border: 1px solid rgba(123, 104, 238, 0.4);
            border-radius: 10px;
            color: #7b68ee;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .fullscreen-btn:hover {
            background: rgba(123, 104, 238, 0.4);
            transform: translateY(-2px);
        }

        /* Exit Fullscreen Button */
        .exit-fullscreen-btn {
            display: none;
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            background: rgba(123, 104, 238, 0.3);
            border: 1px solid rgba(123, 104, 238, 0.5);
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-size: 1em;
            z-index: 10001;
            transition: all 0.3s;
        }

        .exit-fullscreen-btn:hover {
            background: rgba(123, 104, 238, 0.5);
        }

        /* Fullscreen Mode */
        body.fullscreen-mode {
            background: linear-gradient(135deg, #1a1a2e 0%, #2d1b4e 50%, #1e1e3f 100%);
        }

        body.fullscreen-mode .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        body.fullscreen-mode header,
        body.fullscreen-mode nav,
        body.fullscreen-mode .nav-toggle,
        body.fullscreen-mode .nav-overlay,
        body.fullscreen-mode .ad-container,
        body.fullscreen-mode .seo-content,
        body.fullscreen-mode .faq-section,
        body.fullscreen-mode .related-timers,
        body.fullscreen-mode footer,
        body.fullscreen-mode .nap-presets,
        body.fullscreen-mode .sound-selector,
        body.fullscreen-mode .fullscreen-btn,
        body.fullscreen-mode .share-btn,
        body.fullscreen-mode .share-modal,
        body.fullscreen-mode .keyboard-hints {
            display: none !important;
        }

        body.fullscreen-mode .exit-fullscreen-btn {
            display: block;
        }

        body.fullscreen-mode .timer-container {
            background: transparent;
            border: none;
            box-shadow: none;
            margin: 0;
            padding: 20px;
            flex-direction: column;
            max-width: none;
        }

        body.fullscreen-mode .progress-timer {
            width: 500px;
            height: 500px;
        }

        body.fullscreen-mode .progress-ring {
            width: 500px;
            height: 500px;
        }

        body.fullscreen-mode .time-display {
            font-size: 5em;
        }

        body.fullscreen-mode .timer-status {
            font-size: 1.2em;
        }

        body.fullscreen-mode .controls-panel {
            display: flex !important;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-width: auto;
            width: 100%;
            flex: none;
        }

        body.fullscreen-mode .digital-display {
            display: block !important;
            margin: 30px 0;
        }

        body.fullscreen-mode .digital-timer {
            margin: 30px 0;
        }

        body.fullscreen-mode .flip-card {
            width: 120px;
            height: 160px;
        }

        body.fullscreen-mode .flip-card-inner {
            font-size: 6em;
        }

        body.fullscreen-mode .colon {
            font-size: 6em;
        }

        @media (max-width: 768px) {
            body.fullscreen-mode .progress-timer {
                width: 280px;
                height: 280px;
            }

            body.fullscreen-mode .progress-ring {
                width: 280px;
                height: 280px;
            }

            body.fullscreen-mode .time-display {
                font-size: 3em;
            }

            body.fullscreen-mode .timer-status {
                font-size: 0.9em;
            }

            body.fullscreen-mode .flip-card {
                width: 60px;
                height: 90px;
            }

            body.fullscreen-mode .flip-card-inner {
                font-size: 3em;
            }

            body.fullscreen-mode .colon {
                font-size: 3em;
            }
        }

        /* Share Button */
        .share-btn {
            padding: 12px 20px;
            background: rgba(123, 104, 238, 0.2);
            border: 1px solid rgba(123, 104, 238, 0.4);
            border-radius: 10px;
            color: #7b68ee;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .share-btn:hover {
            background: rgba(123, 104, 238, 0.4);
            transform: translateY(-2px);
        }

        /* Share Modal */
        .share-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            align-items: center;
            justify-content: center;
        }

        .share-modal.active {
            display: flex;
        }

        .share-modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #2d1b4e 100%);
            border: 1px solid rgba(123, 104, 238, 0.3);
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            text-align: center;
        }

        .share-modal-content h3 {
            color: #7b68ee;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .share-url-container {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
        }

        .share-url-container input {
            flex: 1;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(123, 104, 238, 0.4);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 1em;
        }

        .copy-btn {
            padding: 15px 25px;
            background: linear-gradient(135deg, #7b68ee 0%, #9370db 100%);
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .copy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(123, 104, 238, 0.4);
        }

        .share-social {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .social-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .social-btn:hover {
            transform: translateY(-2px);
        }

        .social-btn.twitter {
            background: #1DA1F2;
        }

        .social-btn.facebook {
            background: #4267B2;
        }

        .share-modal-close {
            padding: 12px 30px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        .share-modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Keyboard Hints */
        .keyboard-hints {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .keyboard-hint {
            display: flex;
            align-items: center;
            gap: 8px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9em;
        }

        .keyboard-hint kbd {
            background: rgba(123, 104, 238, 0.2);
            border: 1px solid rgba(123, 104, 238, 0.3);
            border-radius: 4px;
            padding: 4px 8px;
            font-family: monospace;
            color: #7b68ee;
        }

        @media (max-width: 768px) {
            .keyboard-hints {
                display: none;
            }
        }

        @media (max-width: 1024px) {
            .timer-container {
                flex-direction: column;
                padding: 40px;
            }

            .progress-timer {
                width: 350px;
                height: 350px;
            }

            .progress-ring {
                width: 350px;
                height: 350px;
            }
        }

        @media (max-width: 768px) {
            body { padding: 10px; }
            header h1 { font-size: 1.8em; gap: 8px; }
            .logo-icon { width: 35px; height: 35px; }
            header p { display: none; }
            .progress-timer { width: 200px; height: 200px; }
            .progress-ring { width: 200px; height: 200px; }
            .time-display { font-size: 2em; }
            .timer-status { font-size: 0.7em; }
            .timer-container { padding: 15px; gap: 15px; }
            .controls-panel { gap: 12px; }
            .flip-card { width: 45px; height: 68px; }
            .flip-card-inner { font-size: 2.5em; }
            .colon { font-size: 2.5em; }
            .quick-start { gap: 8px; margin: 8px 0; }
            .quick-btn { padding: 8px 12px; font-size: 0.85em; }
            .control-btn { padding: 12px 20px; font-size: 0.95em; }
            .preset-grid {
                grid-template-columns: 1fr;
            }
            .sound-selector {
                flex-direction: column;
                gap: 10px;
            }
            .seo-content, .faq-section {
                padding: 30px 20px;
            }
        }

        /* Light Mode Styles */
        body.light-mode {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 50%, #f0f2f5 100%);
            color: #333;
        }

        body.light-mode .theme-toggle {
            background: rgba(0, 0, 0, 0.05);
            border-color: rgba(0, 0, 0, 0.1);
        }

        body.light-mode .theme-toggle:hover {
            background: rgba(0, 0, 0, 0.1);
            border-color: rgba(0, 0, 0, 0.2);
        }

        body.light-mode .theme-toggle svg {
            fill: #333;
        }

        body.light-mode .theme-toggle .sun-icon { display: block; }
        body.light-mode .theme-toggle .moon-icon { display: none; }

        body.light-mode header h1 {
            color: #333;
        }

        body.light-mode header p {
            color: #666;
        }

        body.light-mode nav a {
            color: rgba(0, 0, 0, 0.6);
        }

        body.light-mode nav a:hover {
            color: #333;
            background: rgba(123, 104, 238, 0.1);
        }

        body.light-mode nav a.active {
            color: #7b68ee;
        }

        body.light-mode .timer-container {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(0, 0, 0, 0.1);
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.1);
        }

        body.light-mode .nap-presets h3 {
            color: #7b68ee;
        }

        body.light-mode .preset-btn {
            background: rgba(123, 104, 238, 0.1);
            border-color: rgba(123, 104, 238, 0.2);
            color: #333;
        }

        body.light-mode .preset-btn:hover {
            background: rgba(123, 104, 238, 0.2);
        }

        body.light-mode .preset-btn.active {
            background: linear-gradient(135deg, #7b68ee 0%, #9370db 100%);
            color: white;
        }

        body.light-mode .colon {
            color: #333;
        }

        body.light-mode .sound-selector {
            background: rgba(123, 104, 238, 0.05);
            border-color: rgba(123, 104, 238, 0.2);
        }

        body.light-mode .sound-selector select {
            background: rgba(255, 255, 255, 0.9);
            border-color: rgba(123, 104, 238, 0.3);
            color: #333;
        }

        body.light-mode .sound-selector select option {
            background: #fff;
            color: #333;
        }

        body.light-mode .fullscreen-btn,
        body.light-mode .share-btn {
            background: rgba(123, 104, 238, 0.1);
            border-color: rgba(123, 104, 238, 0.3);
        }

        body.light-mode .fullscreen-btn:hover,
        body.light-mode .share-btn:hover {
            background: rgba(123, 104, 238, 0.2);
        }

        body.light-mode .keyboard-hint {
            color: rgba(0, 0, 0, 0.5);
        }

        body.light-mode .keyboard-hint kbd {
            background: rgba(123, 104, 238, 0.1);
            border-color: rgba(123, 104, 238, 0.2);
        }

        body.light-mode .seo-content,
        body.light-mode .faq-section {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(0, 0, 0, 0.1);
        }

        body.light-mode .seo-content h2 {
            color: #333;
        }

        body.light-mode .seo-content p,
        body.light-mode .seo-content li,
        body.light-mode .faq-answer {
            color: #555;
        }

        body.light-mode .related-timers {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(0, 0, 0, 0.1);
        }

        body.light-mode .related-timers h3 {
            color: #333;
        }

        body.light-mode .share-modal-content {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            border-color: rgba(123, 104, 238, 0.2);
        }

        body.light-mode .share-url-container input {
            background: rgba(255, 255, 255, 0.9);
            border-color: rgba(123, 104, 238, 0.3);
            color: #333;
        }

        body.light-mode .share-modal-close {
            background: rgba(0, 0, 0, 0.05);
            border-color: rgba(0, 0, 0, 0.1);
            color: #333;
        }

        body.light-mode .share-modal-close:hover {
            background: rgba(0, 0, 0, 0.1);
        }

        body.light-mode footer {
            color: rgba(0, 0, 0, 0.5);
        }

        body.light-mode footer a {
            color: rgba(0, 0, 0, 0.5);
        }

        body.light-mode .nav-toggle span {
            background: #333;
        }

        @media (max-width: 768px) {
            body.light-mode nav {
                background: linear-gradient(180deg, #f5f7fa 0%, #e4e8f0 100%);
            }

            body.light-mode nav a:hover,
            body.light-mode nav a.active {
                background: rgba(123, 104, 238, 0.1);
            }
        }
    
        /* PWA Install Banner */
        .pwa-install-banner {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 16px 24px;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.4);
            z-index: 10000;
            display: none;
            align-items: center;
            gap: 16px;
            max-width: 90%;
            width: 400px;
            animation: slideUp 0.4s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        .pwa-install-banner.show {
            display: flex;
        }

        .pwa-install-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .pwa-install-icon svg {
            width: 28px;
            height: 28px;
            fill: white;
        }

        .pwa-install-content {
            flex: 1;
        }

        .pwa-install-content h4 {
            margin: 0 0 4px 0;
            font-size: 1em;
            font-weight: 600;
        }

        .pwa-install-content p {
            margin: 0;
            font-size: 0.85em;
            opacity: 0.9;
        }

        .pwa-install-actions {
            display: flex;
            gap: 8px;
            flex-shrink: 0;
        }

        .pwa-install-btn {
            background: white;
            color: #667eea;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .pwa-install-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .pwa-dismiss-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            font-weight: 500;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .pwa-dismiss-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* iOS Install Instructions Modal */
        .ios-install-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10001;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .ios-install-modal.show {
            display: flex;
        }

        .ios-install-content {
            background: linear-gradient(180deg, #1a1f3a 0%, #0f1419 100%);
            border-radius: 20px;
            padding: 30px;
            max-width: 360px;
            text-align: center;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .ios-install-content h3 {
            margin: 0 0 20px 0;
            font-size: 1.3em;
            color: white;
        }

        .ios-install-steps {
            text-align: left;
            margin: 20px 0;
        }

        .ios-install-step {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.95em;
        }

        .ios-install-step svg {
            width: 24px;
            height: 24px;
            fill: #667eea;
            flex-shrink: 0;
        }

        .ios-close-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1em;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s;
        }

        .ios-close-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
        }

        @media (max-width: 480px) {
            .pwa-install-banner {
                bottom: 70px;
                padding: 14px 16px;
                gap: 12px;
                flex-wrap: wrap;
            }

            .pwa-install-icon {
                width: 40px;
                height: 40px;
            }

            .pwa-install-icon svg {
                width: 24px;
                height: 24px;
            }

            .pwa-install-actions {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>

<body>
    <!-- PWA Install Banner -->
    <div class="pwa-install-banner" id="pwaInstallBanner">
        <div class="pwa-install-icon">
            <svg viewBox="0 0 24 24"><path d="M12 2L4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm-1 6h2v2h-2V8zm0 4h2v6h-2v-6z"/></svg>
        </div>
        <div class="pwa-install-content">
            <h4>Install LazyTimer</h4>
            <p>Add to your home screen for quick access</p>
        </div>
        <div class="pwa-install-actions">
            <button class="pwa-install-btn" id="pwaInstallBtn">Install</button>
            <button class="pwa-dismiss-btn" id="pwaDismissBtn">Later</button>
        </div>
    </div>

    <!-- iOS Install Instructions Modal -->
    <div class="ios-install-modal" id="iosInstallModal">
        <div class="ios-install-content">
            <h3>Add LazyTimer to Home Screen</h3>
            <div class="ios-install-steps">
                <div class="ios-install-step">
                    <svg viewBox="0 0 24 24"><path d="M16 5l-1.42 1.42-1.59-1.59V16h-2V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z"/></svg>
                    <span>Tap the <strong>Share</strong> button in Safari</span>
                </div>
                <div class="ios-install-step">
                    <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                    <span>Scroll and tap <strong>"Add to Home Screen"</strong></span>
                </div>
                <div class="ios-install-step">
                    <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                    <span>Tap <strong>"Add"</strong> to confirm</span>
                </div>
            </div>
            <button class="ios-close-btn" id="iosCloseBtn">Got it!</button>
        </div>
    </div>

    <button class="exit-fullscreen-btn" id="exitFullscreenBtn">Exit Fullscreen</button>
    <div class="container">
        <!-- Screen Reader Announcements -->
        <div id="srAnnouncements" class="sr-only" aria-live="assertive" aria-atomic="true"></div>

        <header>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle light/dark mode">
                <svg class="moon-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
                <svg class="sun-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="5"/>
                    <line x1="12" y1="1" x2="12" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="12" y1="21" x2="12" y2="23" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="1" y1="12" x2="3" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="21" y1="12" x2="23" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </button>
            <h1>
                <div class="logo-icon">&#127769;</div>
                Sleep Timer
            </h1>
            <p>Free Online Nap Timer with Gentle Alarm</p>
            <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </header>

                <div class="nav-overlay" id="navOverlay"></div>
        <nav id="mainNav">
            <a href="/">Home</a>

            <!-- Quick Timers Dropdown -->
            <div class="nav-dropdown">
                <button class="nav-dropdown-trigger">
                    Quick Timers
                    <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                </button>
                <div class="nav-dropdown-menu extra-wide">
                    <a href="/1-minute-timer">1 Minute</a>
                    <a href="/2-minute-timer">2 Minutes</a>
                    <a href="/3-minute-timer">3 Minutes</a>
                    <a href="/4-minute-timer">4 Minutes</a>
                    <a href="/5-minute-timer">5 Minutes</a>
                    <a href="/7-minute-timer">7 Minutes</a>
                    <a href="/8-minute-timer">8 Minutes</a>
                    <a href="/10-minute-timer">10 Minutes</a>
                    <a href="/15-minute-timer">15 Minutes</a>
                    <a href="/20-minute-timer">20 Minutes</a>
                    <a href="/25-minute-timer">25 Minutes</a>
                    <a href="/30-minute-timer">30 Minutes</a>
                    <a href="/40-minute-timer">40 Minutes</a>
                    <a href="/45-minute-timer">45 Minutes</a>
                    <a href="/50-minute-timer">50 Minutes</a>
                    <a href="/60-minute-timer">60 Minutes</a>
                    <a href="/90-minute-timer">90 Minutes</a>
                </div>
            </div>

            <!-- Hour Timers Dropdown -->
            <div class="nav-dropdown">
                <button class="nav-dropdown-trigger">
                    Hour Timers
                    <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                </button>
                <div class="nav-dropdown-menu">
                    <a href="/1-hour-timer">1 Hour</a>
                    <a href="/2-hour-timer">2 Hours</a>
                </div>
            </div>

            <!-- Activities Dropdown -->
            <div class="nav-dropdown">
                <button class="nav-dropdown-trigger">
                    Activities
                    <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                </button>
                <div class="nav-dropdown-menu wide">
                    <a href="/pomodoro-timer">Pomodoro</a>
                    <a href="/study-timer">Study</a>
                    <a href="/workout-timer">Workout</a>
                    <a href="/meditation-timer">Meditation</a>
                    <a href="/cooking-timer">Cooking</a>
                    <a href="/breathing-timer">Breathing</a>
                    <a href="/sleep-timer" class="active">Sleep</a>
                    <a href="/egg-timer">Egg Timer</a>
                    <a href="/tabata-timer">Tabata</a>
                    <a href="/hiit-timer">HIIT</a>
                    <a href="/classroom-timer">Classroom</a>
                    <a href="/presentation-timer">Presentation</a>
                </div>
            </div>

            <!-- Tools Dropdown -->
            <div class="nav-dropdown">
                <button class="nav-dropdown-trigger">
                    Tools
                    <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                </button>
                <div class="nav-dropdown-menu">
                    <a href="/countdown-timer">Countdown</a>
                    <a href="/stopwatch">Stopwatch</a>
                    <a href="/all-timers">All Timers</a>
                </div>
            </div>
        </nav>

        <div class="ad-container top-ad">
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5523870768931777"
                data-ad-slot="7285922677" data-ad-format="horizontal" data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>

        <div class="timer-container">
            <div class="progress-timer" id="progressTimer">
                <svg class="progress-ring" width="350" height="350" viewBox="0 0 350 350" aria-hidden="true">
                    <circle class="progress-ring-bg" cx="175" cy="175" r="160" />
                    <circle class="progress-ring-fill" id="progressRing" cx="175" cy="175" r="160"
                            stroke-dasharray="1005.3" stroke-dashoffset="0" />
                </svg>
                <div class="timer-content">
                    <div class="timer-status" id="timerStatus">READY</div>
                    <div class="time-display" id="timeDisplay">20:00</div>
                </div>
            </div>

            <div class="controls-panel">
                <div class="nap-presets">
                    <h3>Nap Presets</h3>
                    <div class="preset-grid">
                        <button class="preset-btn active" data-time="1200">Power Nap (20 min)</button>
                        <button class="preset-btn" data-time="1800">Short Nap (30 min)</button>
                        <button class="preset-btn" data-time="2700">Refresher (45 min)</button>
                        <button class="preset-btn" data-time="5400">Full Cycle (90 min)</button>
                    </div>
                </div>

                <div class="digital-timer">
                    <div class="flip-card" id="minuteTens">
                        <div class="flip-card-inner">2</div>
                    </div>
                    <div class="flip-card" id="minuteOnes">
                        <div class="flip-card-inner">0</div>
                    </div>
                    <div class="colon">:</div>
                    <div class="flip-card" id="secondTens">
                        <div class="flip-card-inner">0</div>
                    </div>
                    <div class="flip-card" id="secondOnes">
                        <div class="flip-card-inner">0</div>
                    </div>
                </div>

                <div class="sound-selector">
                    <label for="alarmSound">Wake-Up Sound:</label>
                    <select id="alarmSound">
                        <option value="/static/digital-clock-beep.wav">Digital Beep (Default)</option>
                        <option value="/static/vintage-warning-alarm.wav">Vintage Alarm</option>
                        <option value="/static/facility-breach-alarm.wav">Facility Alarm</option>
                    </select>
                    <button class="test-sound-btn" id="testSound">Test</button>
                    <button class="stop-sound-btn" id="stopSound">Stop</button>
                </div>

                <button class="fullscreen-btn" id="fullscreenBtn">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
                    </svg>
                    Fullscreen Mode
                </button>

                <button class="share-btn" id="shareBtn">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="18" cy="5" r="3"></circle>
                        <circle cx="6" cy="12" r="3"></circle>
                        <circle cx="18" cy="19" r="3"></circle>
                        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                    </svg>
                    Share Timer
                </button>

                <div class="controls">
                    <button class="control-btn start-btn" id="startBtn">Start Nap</button>
                    <button class="control-btn pause-btn" id="pauseBtn">Pause</button>
                    <button class="control-btn reset-btn" id="resetBtn">Reset</button>
                </div>

                <div class="keyboard-hints">
                    <span class="keyboard-hint"><kbd>Space</kbd> Start/Pause</span>
                    <span class="keyboard-hint"><kbd>R</kbd> Reset</span>
                    <span class="keyboard-hint"><kbd>F</kbd> Fullscreen</span>
                </div>
            </div>
        </div>

        <article class="seo-content">
            <h2>Free Sleep Timer for Naps</h2>
            <p>
                Need a reliable sleep timer for your power nap? Our free nap timer helps you get the perfect amount of rest without oversleeping. Choose from scientifically-backed nap durations and wake up refreshed with our gentle alarm.
            </p>

            <h3>Best Nap Durations</h3>
            <ul>
                <li><strong>20 Minute Power Nap</strong> - The ideal quick rest. Boosts alertness and performance without entering deep sleep. Perfect for work breaks.</li>
                <li><strong>30 Minute Nap</strong> - Slightly longer rest that can improve memory and creativity. May cause brief grogginess upon waking.</li>
                <li><strong>45 Minute Refresher</strong> - Includes some slow-wave sleep. Good for physical recovery but may need a few minutes to fully wake.</li>
                <li><strong>90 Minute Full Cycle</strong> - One complete sleep cycle including REM. Wake feeling fully restored with enhanced learning and memory.</li>
            </ul>

            <h3>The Science of Power Napping</h3>
            <p>
                Research shows that a 20-minute nap can significantly improve alertness, mood, and cognitive performance. NASA studies found that pilots who took 26-minute naps showed 34% improvement in performance and 54% improvement in alertness. Our sleep timer helps you get exactly the right amount of rest.
            </p>

            <h3>When to Nap</h3>
            <p>
                The best time for a nap is during the afternoon energy dip, typically between 1-3 PM. This timing aligns with your body's natural circadian rhythm and won't interfere with nighttime sleep. Avoid napping after 4 PM, as it may make it harder to fall asleep at night.
            </p>

            <h3>Tips for Better Power Naps</h3>
            <ul>
                <li><strong>Find a quiet, dark space</strong> - Even partial darkness helps</li>
                <li><strong>Set the timer first</strong> - Remove the anxiety of oversleeping</li>
                <li><strong>Use the 20-minute rule</strong> - Short enough to avoid grogginess</li>
                <li><strong>Consider a "coffee nap"</strong> - Drink coffee then nap 20 min; wake as caffeine kicks in</li>
                <li><strong>Keep it consistent</strong> - Regular naps are more effective</li>
            </ul>

            <h3>Coffee Nap Timer (Napuccino)</h3>
            <p>
                The <strong>coffee nap</strong> (also called a "napuccino") is a scientifically-backed technique that combines caffeine with a short nap for maximum alertness. Here's how it works: adenosine builds up in your brain throughout the day, making you feel tired. Caffeine blocks adenosine receptors, while napping clears adenosine from your system. Combining both creates a powerful one-two punch.
            </p>
            <p>
                <strong>How to take a coffee nap:</strong> Drink your coffee quickly (iced works great), then immediately set our <a href="/20-minute-timer" style="color: #9b59b6; text-decoration: none;">20-minute timer</a> and lie down. You don't need to fall fully asleep—even light rest helps clear adenosine. When the timer sounds, you'll wake just as the caffeine reaches peak levels. Studies show coffee naps improve performance on attention tasks better than either coffee or naps alone.
            </p>
            <p>
                <strong>Important:</strong> Take your coffee nap at least 6-7 hours before bedtime to avoid sleep disruption. The ideal window is 1-3 PM when your circadian rhythm naturally dips.
            </p>

            <h3>Understanding Sleep Cycles</h3>
            <p>
                A complete <strong>sleep cycle</strong> takes approximately 90 minutes and includes four stages: light sleep (N1 and N2), deep sleep (N3), and REM sleep. Waking mid-cycle—especially during deep sleep—causes grogginess called "sleep inertia." That's why strategic nap lengths matter:
            </p>
            <ul>
                <li><strong>10-20 minutes:</strong> Stays in light sleep stages. Quick refresh with no grogginess.</li>
                <li><strong>30-60 minutes:</strong> May enter deep sleep. Risk of grogginess upon waking.</li>
                <li><strong>90 minutes:</strong> Completes full cycle including REM. Wake naturally refreshed.</li>
            </ul>
            <p>
                Use our <a href="/90-minute-timer" style="color: #9b59b6; text-decoration: none;">90-minute timer</a> for a full sleep cycle, or stick to our <a href="/20-minute-timer" style="color: #9b59b6; text-decoration: none;">20-minute timer</a> for a quick power nap with no grogginess.
            </p>

            <h3>Biphasic and Polyphasic Sleep</h3>
            <p>
                <strong>Biphasic sleep</strong> splits rest into two periods: a main nighttime sleep of 5-6 hours plus an afternoon nap of 20-90 minutes. This pattern was common before industrialization and aligns with the natural afternoon energy dip. Many cultures still practice this through siestas.
            </p>
            <p>
                <strong>Polyphasic sleep</strong> schedules include:
            </p>
            <ul>
                <li><strong>Everyman:</strong> 3-4 hours of core sleep plus three 20-minute naps throughout the day.</li>
                <li><strong>Uberman:</strong> Six 20-minute naps evenly spaced, totaling just 2 hours of sleep. Not recommended—most people cannot adapt.</li>
                <li><strong>Dual Core:</strong> Two core sleep periods of 3-4 hours each with a nap in between.</li>
            </ul>
            <p>
                <strong>Note:</strong> Sleep scientists generally recommend against extreme polyphasic schedules. Most people function best with 7-9 hours of sleep, whether monophasic (one block) or biphasic (main sleep plus nap). Our sleep timer supports any schedule you choose.
            </p>

            <h3>Nap Timer for Shift Workers</h3>
            <p>
                <strong>Night shift workers</strong> face unique sleep challenges as their work schedules conflict with natural circadian rhythms. Strategic napping can significantly improve alertness and safety. Research shows that shift workers who nap before or during their shift have fewer accidents and better cognitive performance.
            </p>
            <p>
                Recommended nap strategies for shift workers:
            </p>
            <ul>
                <li><strong>Before your shift:</strong> Take a 90-minute nap in the late afternoon before a night shift to build up your "sleep bank."</li>
                <li><strong>During breaks:</strong> A 20-minute power nap during a meal break can restore alertness for the remainder of your shift.</li>
                <li><strong>After your shift:</strong> Nap for 20-30 minutes when you get home if needed, but reserve your main sleep for later.</li>
            </ul>
            <p>
                Coffee naps are especially effective for shift workers—the combination helps overcome the strongest sleepiness during the 3-5 AM danger zone.
            </p>

            <h3>Napping for Students</h3>
            <p>
                Students often sacrifice sleep for studying, but research shows this backfires. Sleep is essential for memory consolidation—learning is literally processed and stored during sleep. A well-timed nap can actually improve academic performance more than additional study time.
            </p>
            <p>
                Student napping strategies:
            </p>
            <ul>
                <li><strong>Study, then nap:</strong> Material studied before a nap is better remembered than material studied before a period of wakefulness.</li>
                <li><strong>Avoid all-nighters:</strong> One night of sleep deprivation impairs cognitive function as much as being legally drunk. A 90-minute nap is better than no sleep.</li>
                <li><strong>Exam day:</strong> If you're exhausted, a 20-minute nap before an exam can improve alertness and performance.</li>
            </ul>
            <p>
                Try our <a href="/study-timer" style="color: #3498db; text-decoration: none;">study timer</a> for focused study sessions, then use this sleep timer for strategic rest.
            </p>

            <h3>Travel and Jet Lag Naps</h3>
            <p>
                <strong>Jet lag</strong> disrupts your circadian rhythm when crossing time zones. Strategic napping can help your body adjust, but timing is crucial to avoid making jet lag worse.
            </p>
            <ul>
                <li><strong>Traveling east:</strong> Avoid napping on arrival. Stay awake until local bedtime to help your body clock advance.</li>
                <li><strong>Traveling west:</strong> A short 20-30 minute nap is okay, but don't nap after 3 PM local time.</li>
                <li><strong>Long flights:</strong> Try to nap on the plane to arrive less sleep-deprived. Use an eye mask and our timer to avoid oversleeping.</li>
                <li><strong>Recovery:</strong> For the first few days, limit naps to 20 minutes to help reset your internal clock.</li>
            </ul>
            <p>
                Combine napping with light exposure (bright light when you want to be awake, darkness when you want to sleep) for fastest jet lag recovery.
            </p>

            <h3>Sleep Deprivation Recovery</h3>
            <p>
                While you can't fully "catch up" on lost sleep with naps alone, strategic napping helps mitigate the effects of sleep deprivation. If you've had a poor night's sleep:
            </p>
            <ul>
                <li><strong>Same day:</strong> A 20-minute afternoon nap can restore some alertness without disrupting tonight's sleep.</li>
                <li><strong>Accumulated debt:</strong> For chronic sleep deprivation, prioritize extending your main sleep rather than relying on naps.</li>
                <li><strong>One bad night:</strong> A single 90-minute nap can help offset one night of poor sleep. Time it for early afternoon.</li>
            </ul>
            <p>
                The best recovery is consistent, quality nighttime sleep. Use naps as a temporary tool, not a permanent solution to sleep deprivation.
            </p>

            <h3>Meditation Before Sleep</h3>
            <p>
                Struggling to fall asleep during your nap? Try a brief <a href="/meditation-timer" style="color: #9b59b6; text-decoration: none;">meditation</a> or <a href="/breathing-timer" style="color: #00b894; text-decoration: none;">breathing exercise</a> to quiet your mind. Even if you don't fall fully asleep, relaxation provides some restorative benefits.
            </p>
            <p>
                Techniques that help before napping:
            </p>
            <ul>
                <li><strong>4-7-8 breathing:</strong> Inhale 4 seconds, hold 7 seconds, exhale 8 seconds. Repeat 3-4 times.</li>
                <li><strong>Body scan:</strong> Focus attention on relaxing each body part from toes to head.</li>
                <li><strong>Progressive relaxation:</strong> Tense each muscle group briefly, then release completely.</li>
            </ul>
            <p>
                Set our timer for 5 minutes of relaxation followed by 15 minutes of rest for a combined 20-minute power nap session.
            </p>

            <h3>Nap Environment Setup</h3>
            <p>
                Your nap environment significantly impacts sleep quality. Optimize your space:
            </p>
            <ul>
                <li><strong>Temperature:</strong> Cool rooms (65-68°F/18-20°C) promote better sleep. A slightly cool environment is ideal.</li>
                <li><strong>Light:</strong> Use an eye mask or draw curtains. Darkness signals your brain to produce melatonin.</li>
                <li><strong>Sound:</strong> White noise or pink noise can mask disruptive sounds. Some people prefer complete silence.</li>
                <li><strong>Position:</strong> Lying down is better than sitting. If at work, even reclining helps.</li>
                <li><strong>Phone:</strong> Put it on silent or airplane mode. Set only your timer alarm.</li>
            </ul>
            <p>
                At work, consider a break room, your car, or even a comfortable chair with an eye mask. NASA found that astronaut naps in semi-upright positions still provided benefits.
            </p>

            <h3>The NASA Nap: 26 Minutes of Optimal Rest</h3>
            <p>
                NASA conducted extensive research on pilot alertness and discovered that a <strong>26-minute nap</strong> was the optimal duration for improving performance. Pilots who took 26-minute naps showed a 34% improvement in performance and a 54% improvement in alertness compared to those who didn't nap. This specific timing keeps you in lighter sleep stages while maximizing restoration.
            </p>
            <p>
                The "NASA nap" has become popular among professionals who need peak cognitive performance. It's particularly useful for:
            </p>
            <ul>
                <li><strong>Long-haul drivers:</strong> A 26-minute rest at a rest stop can dramatically improve alertness</li>
                <li><strong>Medical professionals:</strong> Doctors and nurses on long shifts use strategic naps</li>
                <li><strong>Air traffic controllers:</strong> Many facilities now incorporate scheduled nap breaks</li>
                <li><strong>Executive decision-makers:</strong> High-stakes decisions benefit from refreshed minds</li>
            </ul>
            <p>
                Use our <a href="/25-minute-timer" style="color: #9b59b6; text-decoration: none;">25-minute timer</a> for a close approximation of the NASA nap, or set a custom 26-minute duration using our main timer.
            </p>

            <h3>Napping for Athletes and Sports Recovery</h3>
            <p>
                <strong>Elite athletes</strong> increasingly use strategic napping as part of their training regimen. Sleep is when your body releases growth hormone and repairs muscle tissue. Research shows that naps can improve sprint times, reaction time, and overall athletic performance.
            </p>
            <p>
                Athletic napping strategies by sport:
            </p>
            <ul>
                <li><strong>Endurance athletes (runners, cyclists):</strong> 90-minute naps on heavy training days to support muscle recovery</li>
                <li><strong>Team sports (basketball, soccer):</strong> 20-30 minute power naps before evening games</li>
                <li><strong>Strength training:</strong> Post-workout naps enhance muscle protein synthesis</li>
                <li><strong>Precision sports (golf, archery):</strong> Short naps improve focus and fine motor control</li>
            </ul>
            <p>
                The <strong>Stanford Sleep Disorders Clinic</strong> found that basketball players who extended their sleep (including naps) improved their sprint times and free throw accuracy by 9%. Use our <a href="/workout-timer" style="color: #e74c3c; text-decoration: none;">workout timer</a> for training sessions and this sleep timer for recovery naps.
            </p>

            <h3>Napping at Different Life Stages</h3>
            <p>
                Sleep needs change throughout life, and so do optimal napping strategies:
            </p>
            <h4>Toddlers and Children (Ages 1-5)</h4>
            <p>
                Young children need daytime sleep for healthy development. <strong>Toddlers</strong> (1-3 years) typically need one 1-3 hour afternoon nap. <strong>Preschoolers</strong> (3-5 years) may still benefit from a 1-hour nap. Skipping naps can lead to overtiredness and difficulty sleeping at night.
            </p>
            <h4>School-Age Children (Ages 6-12)</h4>
            <p>
                Most school-age children no longer need daily naps, but occasional naps during growth spurts, illness, or after intense activity can be beneficial. Keep these naps to 30-45 minutes and avoid napping after 3 PM.
            </p>
            <h4>Teenagers (Ages 13-19)</h4>
            <p>
                Teenagers have shifted circadian rhythms that make them naturally sleepy later at night. Short afternoon naps (20-30 minutes) can help offset early school start times. However, long naps can disrupt nighttime sleep, which teens desperately need.
            </p>
            <h4>Adults (Ages 20-65)</h4>
            <p>
                Healthy adults can benefit from 20-30 minute power naps or 90-minute full cycles. The key is consistency and timing—nap at the same time daily and avoid napping after 4 PM.
            </p>
            <h4>Seniors (Ages 65+)</h4>
            <p>
                Older adults often experience fragmented nighttime sleep and may benefit from <strong>short daytime naps</strong>. However, research shows that naps longer than 30 minutes in seniors may be associated with cognitive decline. Stick to brief power naps of 10-20 minutes. If you find yourself needing long daily naps, consult a sleep specialist.
            </p>

            <h3>Should You Nap with Insomnia?</h3>
            <p>
                If you have <strong>chronic insomnia</strong>, the standard advice is to <em>avoid napping</em>. Here's why: naps reduce your "sleep pressure"—the natural drive to sleep that builds throughout the day. For insomniacs, maintaining high sleep pressure makes it easier to fall asleep at night.
            </p>
            <p>
                However, some situations warrant exception:
            </p>
            <ul>
                <li><strong>Severe sleep deprivation:</strong> If you got less than 4 hours last night, a brief 20-minute nap may help you function safely</li>
                <li><strong>Safety concerns:</strong> If drowsiness affects driving or operating machinery, a short nap is essential</li>
                <li><strong>Medical advice:</strong> Some insomnia treatments include scheduled naps as part of sleep restriction therapy</li>
            </ul>
            <p>
                If you have insomnia and choose to nap, keep it under 20 minutes and before 2 PM. Consider using our <a href="/meditation-timer" style="color: #9b59b6; text-decoration: none;">meditation timer</a> for relaxation exercises instead of actual sleep—you can gain restorative benefits without reducing sleep pressure.
            </p>

            <h3>Desk Naps and Napping at Work</h3>
            <p>
                <strong>Workplace napping</strong> is becoming increasingly accepted as companies recognize its productivity benefits. Google, Nike, and NASA all provide nap facilities for employees. If your workplace doesn't have a nap room, here are alternatives:
            </p>
            <ul>
                <li><strong>Car nap:</strong> Park in a safe, shaded spot. Recline your seat and set this timer. Many find their car is the best midday nap spot.</li>
                <li><strong>Desk nap:</strong> Cross your arms on your desk and rest your head. Use noise-canceling headphones and an eye mask.</li>
                <li><strong>Break room:</strong> Find a quiet corner during off-peak hours</li>
                <li><strong>Walking meditation:</strong> If you can't nap, a 10-minute quiet walk can provide some restoration</li>
            </ul>
            <p>
                A Harvard study found that a midday nap reversed the <strong>mental fatigue</strong> that accumulates throughout the day. Workers who napped showed performance levels equal to their morning peak, while non-nappers continued to decline.
            </p>
        </article>

        <section class="faq-section">
            <h2 style="text-align: center; margin-bottom: 40px; font-size: 2.2em;">Sleep Timer FAQ</h2>

            <div class="faq-item">
                <div class="faq-question">How long should a power nap be?</div>
                <div class="faq-answer">
                    The ideal power nap is 20-30 minutes. This length provides restoration and improved alertness without entering deep sleep, which can cause grogginess. Our sleep timer has presets for both 20 and 30 minute naps.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">What is a 90 minute sleep cycle?</div>
                <div class="faq-answer">
                    A complete sleep cycle takes approximately 90 minutes and includes all stages of sleep: light sleep, deep sleep, and REM. Waking at the end of a cycle helps you feel refreshed. Use our 90 minute preset for a full restorative nap.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Is napping good for you?</div>
                <div class="faq-answer">
                    Yes! Research shows that napping can improve alertness, enhance performance, reduce stress, and boost mood. A 20-minute power nap can be more effective than caffeine for improving cognitive function.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">When is the best time to nap?</div>
                <div class="faq-answer">
                    The optimal nap time is early-to-mid afternoon, between 1-3 PM. This aligns with your body's natural energy dip and won't interfere with nighttime sleep. Avoid napping after 4 PM.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Why do I feel worse after napping?</div>
                <div class="faq-answer">
                    If you feel groggy after napping, you may be waking from deep sleep. Keep naps to 20-30 minutes, or extend to a full 90-minute cycle. This "sleep inertia" typically passes within 15 minutes.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">What is a coffee nap (napuccino)?</div>
                <div class="faq-answer">
                    A coffee nap combines caffeine with a 20-minute power nap. Drink coffee quickly, then immediately nap for 20 minutes. You wake just as the caffeine peaks in your system. Studies show this combination improves alertness better than either coffee or napping alone.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Can napping help with jet lag?</div>
                <div class="faq-answer">
                    Strategic napping can help with jet lag, but timing matters. When traveling west, short 20-30 minute naps are okay. When traveling east, try to avoid napping and stay awake until local bedtime to help your body clock adjust faster.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Should shift workers take naps?</div>
                <div class="faq-answer">
                    Yes, napping is highly recommended for shift workers. A 90-minute nap before a night shift or a 20-minute nap during a break can significantly improve alertness and reduce accident risk. Coffee naps are especially effective during the 3-5 AM danger zone.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">What is polyphasic sleep?</div>
                <div class="faq-answer">
                    Polyphasic sleep divides rest into multiple periods throughout the day instead of one long sleep. Examples include biphasic (main sleep plus one nap) and Everyman (3-4 hours plus multiple naps). Most sleep scientists recommend against extreme schedules like Uberman, as they don't provide enough total sleep.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Do naps help students study better?</div>
                <div class="faq-answer">
                    Yes, naps improve memory consolidation—information studied before a nap is better retained than information studied before a period of wakefulness. A 20-minute nap can also restore alertness before an exam. Sleep is when your brain processes and stores new learning.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">What is the NASA nap?</div>
                <div class="faq-answer">
                    The NASA nap is a 26-minute power nap based on NASA research. Studies showed pilots who took 26-minute naps improved performance by 34% and alertness by 54%. This duration keeps you in light sleep stages while maximizing cognitive benefits—making it popular among professionals who need peak mental performance.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Is a 10-minute nap worth it?</div>
                <div class="faq-answer">
                    Yes, even a 10-minute nap can provide immediate improvements in alertness and performance. Research shows 10-minute naps are surprisingly effective and produce no grogginess upon waking. They're ideal when you're short on time but need a quick mental refresh.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Should seniors take naps?</div>
                <div class="faq-answer">
                    Seniors can benefit from short naps, but should limit them to 10-20 minutes. Research suggests naps longer than 30 minutes in older adults may be associated with cognitive decline. If you find yourself needing long daily naps, it's worth consulting a sleep specialist to rule out underlying issues.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Can I nap before a workout?</div>
                <div class="faq-answer">
                    Yes, a pre-workout nap can boost athletic performance. Elite athletes often take 20-30 minute naps before evening games or competitions. The key is keeping it short—avoid 90-minute naps before exercise as they may cause grogginess that affects your performance.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">How do I avoid oversleeping during naps?</div>
                <div class="faq-answer">
                    Always set a timer before napping—that's what this sleep timer is for! Place your phone or alarm across the room so you must get up to turn it off. Try napping in a slightly upright position rather than lying flat, as this naturally prevents deep sleep. The coffee nap technique also helps since caffeine kicks in after 20-30 minutes.
                </div>
            </div>
        </section>

        <div class="related-timers">
            <h3>Other Popular Timers</h3>
            <a href="/meditation-timer">Meditation Timer</a>
            <a href="/breathing-timer">Breathing Timer</a>
            <a href="/1-hour-timer">1 Hour Timer</a>
            <a href="/90-minute-timer">90 Minute Timer</a>
            <a href="/20-minute-timer">20 Minute Timer</a>
            <a href="/all-timers">All Timers</a>
        </div>

        <!-- Share Modal -->
        <div class="share-modal" id="shareModal">
            <div class="share-modal-content">
                <h3>Share This Timer</h3>
                <div class="share-url-container">
                    <input type="text" id="shareUrl" readonly>
                    <button class="copy-btn" id="copyBtn">Copy</button>
                </div>
                <div class="share-social">
                    <button class="social-btn twitter" id="shareTwitter">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                        </svg>
                        Twitter
                    </button>
                    <button class="social-btn facebook" id="shareFacebook">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                        </svg>
                        Facebook
                    </button>
                </div>
                <button class="share-modal-close" id="shareModalClose">Close</button>
            </div>
        </div>

        <div class="ad-container bottom-ad">
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5523870768931777"
                data-ad-slot="6571606806" data-ad-format="horizontal" data-full-width-responsive="true" loading="lazy"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>

        <footer>
            <p>&copy; 2026 LazyTimer.com | <a href="/">All Timers</a> | <a href="/about">About</a> | <a href="/privacy-policy">Privacy</a></p>
        </footer>
    </div>

    <script>
        let timeLeft = 1200; // 20 minutes default (power nap)
        let totalTime = 1200;
        let isRunning = false;
        let timerInterval;
        let alarmAudio = null;
        const originalTitle = document.title;
        const STORAGE_KEY = 'lazyTimer_sleep';
        const srAnnouncements = document.getElementById('srAnnouncements');

        // Screen reader announcement helper
        function announce(message) {
            srAnnouncements.textContent = '';
            setTimeout(() => {
                srAnnouncements.textContent = message;
            }, 50);
        }

        const minuteTensCard = document.getElementById('minuteTens');
        const minuteOnesCard = document.getElementById('minuteOnes');
        const secondTensCard = document.getElementById('secondTens');
        const secondOnesCard = document.getElementById('secondOnes');
        const progressTimer = document.getElementById('progressTimer');
        const progressRing = document.getElementById('progressRing');
        const timerStatus = document.getElementById('timerStatus');
        const timeDisplay = document.getElementById('timeDisplay');
        const CIRCUMFERENCE = 2 * Math.PI * 160; // 1005.3
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const alarmSelect = document.getElementById('alarmSound');
        const testSoundBtn = document.getElementById('testSound');
        const buttons = document.querySelectorAll('.preset-btn');

        // Load saved sound preference
        const savedSound = localStorage.getItem('alarmSound');
        if (savedSound) {
            alarmSelect.value = savedSound;
        }

        // Save sound preference when changed
        alarmSelect.addEventListener('change', function() {
            localStorage.setItem('alarmSound', this.value);
        });

        // Test sound button
        testSoundBtn.addEventListener('click', function() {
            playAlarm(true);
        });

        // Stop sound button
        const stopSoundBtn = document.getElementById('stopSound');
        stopSoundBtn.addEventListener('click', function() {
            if (alarmAudio) {
                alarmAudio.pause();
                alarmAudio.currentTime = 0;
            }
        });

        function playAlarm(isTest = false) {
            if (alarmAudio) {
                alarmAudio.pause();
                alarmAudio.currentTime = 0;
            }
            alarmAudio = new Audio(alarmSelect.value);
            alarmAudio.play().catch(e => console.log('Audio play failed:', e));
            setTimeout(() => {
                if (alarmAudio) {
                    alarmAudio.pause();
                    alarmAudio.currentTime = 0;
                }
            }, isTest ? 2000 : 5000);
        }

        buttons.forEach(btn => {
            btn.addEventListener('click', function() {
                buttons.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                const time = parseInt(this.getAttribute('data-time'));
                pauseTimer();
                timeLeft = time;
                totalTime = time;
                updateDisplay();
            });
        });

        function updateFlipCard(card, newValue) {
            const inner = card.querySelector('.flip-card-inner');
            if (inner.textContent !== newValue.toString()) {
                card.classList.add('flipping');
                setTimeout(() => {
                    inner.textContent = newValue;
                    card.classList.remove('flipping');
                }, 300);
            }
        }

        function updateTabTitle() {
            if (timeLeft <= 0) {
                document.title = "Wake Up! - Sleep Timer";
            } else {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.title = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')} - Sleep Timer`;
            }
        }

        function saveTimerState() {
            const state = {
                timeLeft: timeLeft,
                totalTime: totalTime,
                isRunning: isRunning,
                timestamp: Date.now()
            };
            localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
        }

        function restoreTimerState() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                try {
                    const state = JSON.parse(saved);
                    const elapsed = Math.floor((Date.now() - state.timestamp) / 1000);
                    // Only restore if within 60 minutes
                    if (elapsed < 3600) {
                        if (state.isRunning) {
                            timeLeft = Math.max(0, state.timeLeft - elapsed);
                            totalTime = state.totalTime;
                            if (timeLeft > 0) {
                                updateDisplay();
                                startTimer();
                            }
                        } else {
                            timeLeft = state.timeLeft;
                            totalTime = state.totalTime;
                            updateDisplay();
                        }
                    }
                } catch (e) {
                    console.log('Failed to restore timer state');
                }
            }
        }

        function updateProgressRing(progress) {
            const offset = CIRCUMFERENCE * (1 - progress);
            progressRing.style.strokeDashoffset = offset;
        }

        function updateTimerState() {
            const progress = totalTime > 0 ? (totalTime - timeLeft) / totalTime : 0;
            updateProgressRing(progress);

            // Update time display
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timeDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

            // Remove all state classes
            progressTimer.classList.remove('running', 'warning', 'critical', 'complete', 'paused');

            if (timeLeft === 0 && totalTime > 0) {
                progressTimer.classList.add('complete');
                timerStatus.textContent = 'WAKE UP';
            } else if (isRunning) {
                const percentRemaining = timeLeft / totalTime;
                if (percentRemaining <= 0.1) {
                    progressTimer.classList.add('critical');
                } else if (percentRemaining <= 0.25) {
                    progressTimer.classList.add('warning');
                } else {
                    progressTimer.classList.add('running');
                }
                timerStatus.textContent = 'SLEEPING';
            } else if (timeLeft > 0 && timeLeft < totalTime) {
                progressTimer.classList.add('paused');
                timerStatus.textContent = 'PAUSED';
            } else {
                timerStatus.textContent = 'READY';
            }
        }

        function updateDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;

            updateFlipCard(minuteTensCard, Math.floor(minutes / 10));
            updateFlipCard(minuteOnesCard, minutes % 10);
            updateFlipCard(secondTensCard, Math.floor(seconds / 10));
            updateFlipCard(secondOnesCard, seconds % 10);

            // Update progress circle
            updateTimerState();

            // Update tab title
            updateTabTitle();
        }

        function startTimer() {
            if (timeLeft > 0 && !isRunning) {
                isRunning = true;
                startBtn.textContent = 'Napping...';
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                announce(`Timer started: ${minutes} minutes ${seconds} seconds remaining`);
                timerInterval = setInterval(() => {
                    timeLeft--;
                    updateDisplay();
                    saveTimerState();
                    if (timeLeft <= 0) {
                        pauseTimer();
                        playAlarm();
                        localStorage.removeItem(STORAGE_KEY);
                        announce('Timer complete!');
                    }
                }, 1000);
                saveTimerState();
            }
        }

        function pauseTimer() {
            const wasRunning = isRunning;
            isRunning = false;
            startBtn.textContent = 'Start Nap';
            clearInterval(timerInterval);
            document.title = originalTitle;
            saveTimerState();
            if (wasRunning && timeLeft > 0) {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                announce(`Timer paused: ${minutes} minutes ${seconds} seconds remaining`);
            }
        }

        function resetTimer() {
            pauseTimer();
            const activeBtn = document.querySelector('.preset-btn.active');
            if (activeBtn) {
                timeLeft = parseInt(activeBtn.getAttribute('data-time'));
                totalTime = timeLeft;
            } else {
                timeLeft = 1200;
                totalTime = 1200;
            }
            updateDisplay();
            document.title = originalTitle;
            localStorage.removeItem(STORAGE_KEY);
            const minutes = Math.floor(totalTime / 60);
            const seconds = totalTime % 60;
            announce(`Timer reset to ${minutes} minutes ${seconds} seconds`);
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Ignore if user is typing in an input field
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'SELECT') return;

            if (e.code === 'Space') {
                e.preventDefault();
                if (isRunning) {
                    pauseTimer();
                } else {
                    startTimer();
                }
            } else if (e.code === 'KeyR') {
                e.preventDefault();
                resetTimer();
            } else if (e.code === 'KeyF') {
                e.preventDefault();
                toggleFullscreen();
            } else if (e.code === 'Escape') {
                if (document.body.classList.contains('fullscreen-mode')) {
                    e.preventDefault();
                    toggleFullscreen();
                }
            }
        });

        startBtn.addEventListener('click', startTimer);
        pauseBtn.addEventListener('click', pauseTimer);
        resetBtn.addEventListener('click', resetTimer);

        updateDisplay();
        restoreTimerState();

        // Mobile Navigation Toggle
        const navToggle = document.getElementById('navToggle');
        const mainNav = document.getElementById('mainNav');
        const navOverlay = document.getElementById('navOverlay');

                function toggleNav() {
            navToggle.classList.toggle('active');
            mainNav.classList.toggle('active');
            navOverlay.classList.toggle('active');
            document.body.style.overflow = mainNav.classList.contains('active') ? 'hidden' : '';
            // Close all dropdowns when closing nav
            if (!mainNav.classList.contains('active')) {
                mainNav.querySelectorAll('.nav-dropdown').forEach(d => d.classList.remove('active'));
            }
        }

        navToggle.addEventListener('click', toggleNav);
        navOverlay.addEventListener('click', toggleNav);
        // Mobile Dropdown Toggle
        mainNav.querySelectorAll('.nav-dropdown-trigger').forEach(trigger => {
            trigger.addEventListener('click', (e) => {
                if (window.innerWidth <= 768) {
                    e.preventDefault();
                    const dropdown = trigger.parentElement;
                    const isOpen = dropdown.classList.contains('active');
                    // Close other dropdowns
                    mainNav.querySelectorAll('.nav-dropdown').forEach(d => d.classList.remove('active'));
                    // Toggle this one
                    if (!isOpen) dropdown.classList.add('active');
                }
            });
        });


        // Close nav when clicking a link
        mainNav.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    toggleNav();
                }
            });
        });

        // Fullscreen Mode
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        const exitFullscreenBtn = document.getElementById('exitFullscreenBtn');

        function toggleFullscreen() {
            document.body.classList.toggle('fullscreen-mode');
            if (document.body.classList.contains('fullscreen-mode')) {
                announce('Fullscreen mode enabled. Press Escape or F to exit.');
            } else {
                announce('Fullscreen mode disabled.');
            }
        }

        fullscreenBtn.addEventListener('click', toggleFullscreen);
        exitFullscreenBtn.addEventListener('click', toggleFullscreen);

        // URL Sharing Functions
        const shareBtn = document.getElementById('shareBtn');
        const shareModal = document.getElementById('shareModal');
        const shareUrlInput = document.getElementById('shareUrl');
        const copyBtn = document.getElementById('copyBtn');
        const shareTwitterBtn = document.getElementById('shareTwitter');
        const shareFacebookBtn = document.getElementById('shareFacebook');
        const shareModalClose = document.getElementById('shareModalClose');

        function formatTimeForShare(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            if (secs === 0) {
                return mins + ' minute' + (mins !== 1 ? 's' : '');
            }
            return mins + ':' + String(secs).padStart(2, '0');
        }

        function generateShareUrl() {
            const baseUrl = window.location.origin + window.location.pathname;
            return baseUrl + '?t=' + totalTime;
        }

        function openShareModal() {
            const url = generateShareUrl();
            shareUrlInput.value = url;
            shareModal.classList.add('active');
        }

        function closeShareModal() {
            shareModal.classList.remove('active');
        }

        function copyShareUrl() {
            shareUrlInput.select();
            shareUrlInput.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(shareUrlInput.value).then(() => {
                const originalText = copyBtn.textContent;
                copyBtn.textContent = 'Copied!';
                setTimeout(() => {
                    copyBtn.textContent = originalText;
                }, 2000);
            }).catch(() => {
                document.execCommand('copy');
                copyBtn.textContent = 'Copied!';
                setTimeout(() => {
                    copyBtn.textContent = 'Copy';
                }, 2000);
            });
        }

        function shareOnTwitter() {
            const url = generateShareUrl();
            const timeText = formatTimeForShare(totalTime);
            const text = 'Check out this ' + timeText + ' sleep timer!';
            const twitterUrl = 'https://twitter.com/intent/tweet?url=' + encodeURIComponent(url) + '&text=' + encodeURIComponent(text);
            window.open(twitterUrl, '_blank', 'width=550,height=420');
        }

        function shareOnFacebook() {
            const url = generateShareUrl();
            const facebookUrl = 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(url);
            window.open(facebookUrl, '_blank', 'width=550,height=420');
        }

        function loadTimerFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            const timeParam = urlParams.get('t');
            if (timeParam) {
                const seconds = parseInt(timeParam);
                if (!isNaN(seconds) && seconds > 0 && seconds <= 7200) {
                    timeLeft = seconds;
                    totalTime = seconds;
                    // Clear active state from preset buttons
                    buttons.forEach(b => b.classList.remove('active'));
                    // Check if matches a preset
                    buttons.forEach(btn => {
                        if (parseInt(btn.getAttribute('data-time')) === seconds) {
                            btn.classList.add('active');
                        }
                    });
                    updateDisplay();
                }
            }
        }

        shareBtn.addEventListener('click', openShareModal);
        shareModalClose.addEventListener('click', closeShareModal);
        copyBtn.addEventListener('click', copyShareUrl);
        shareTwitterBtn.addEventListener('click', shareOnTwitter);
        shareFacebookBtn.addEventListener('click', shareOnFacebook);

        // Close modal when clicking outside
        shareModal.addEventListener('click', function(e) {
            if (e.target === shareModal) {
                closeShareModal();
            }
        });

        // Load timer from URL on page load
        loadTimerFromUrl();

        // Theme Toggle Functionality
        const themeToggle = document.getElementById('themeToggle');
        const themeColorMeta = document.querySelector('meta[name="theme-color"]');

        function initTheme() {
            const savedTheme = localStorage.getItem('lazyTimerTheme');
            if (savedTheme) {
                if (savedTheme === 'light') {
                    document.body.classList.add('light-mode');
                    if (themeColorMeta) themeColorMeta.setAttribute('content', '#f5f7fa');
                }
            } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
                document.body.classList.add('light-mode');
                if (themeColorMeta) themeColorMeta.setAttribute('content', '#f5f7fa');
            }
        }

        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            const isLight = document.body.classList.contains('light-mode');
            localStorage.setItem('lazyTimerTheme', isLight ? 'light' : 'dark');
            if (themeColorMeta) {
                themeColorMeta.setAttribute('content', isLight ? '#f5f7fa' : '#667eea');
            }
        }

        if (themeToggle) {
            themeToggle.addEventListener('click', toggleTheme);
        }

        if (window.matchMedia) {
            window.matchMedia('(prefers-color-scheme: light)').addEventListener('change', (e) => {
                if (!localStorage.getItem('lazyTimerTheme')) {
                    if (e.matches) {
                        document.body.classList.add('light-mode');
                        if (themeColorMeta) themeColorMeta.setAttribute('content', '#f5f7fa');
                    } else {
                        document.body.classList.remove('light-mode');
                        if (themeColorMeta) themeColorMeta.setAttribute('content', '#667eea');
                    }
                }
            });
        }

        initTheme();

        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('LazyTimer: Service Worker registered', registration.scope);
                    })
                    .catch((error) => {
                        console.log('LazyTimer: Service Worker registration failed', error);
                    });
            });
        }

        // Anchor Ad Management
        document.addEventListener('DOMContentLoaded', function() {
            document.body.classList.add('has-anchor-ad');

            const closeBtn = document.querySelector('.anchor-ad-close');
            const anchorAd = document.querySelector('.anchor-ad');

            if (closeBtn && anchorAd) {
                closeBtn.addEventListener('click', function() {
                    anchorAd.style.display = 'none';
                    document.body.classList.remove('has-anchor-ad');
                });
            }
        });
    </script>

    <!-- Anchor Ad - High Viewability Sticky Bottom -->
    <div class="anchor-ad" id="anchorAd">
        <button class="anchor-ad-close" aria-label="Close ad">×</button>
        <ins class="adsbygoogle"
            style="display:inline-block;width:320px;height:50px"
            data-ad-client="ca-pub-5523870768931777"
            data-ad-slot="7285922677"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>

    <!-- PWA Install Prompt Script -->
    <script>
        (function() {
            let deferredPrompt;
            const banner = document.getElementById('pwaInstallBanner');
            const installBtn = document.getElementById('pwaInstallBtn');
            const dismissBtn = document.getElementById('pwaDismissBtn');
            const iosModal = document.getElementById('iosInstallModal');
            const iosCloseBtn = document.getElementById('iosCloseBtn');

            // Check if already installed or dismissed
            const isInstalled = window.matchMedia('(display-mode: standalone)').matches
                             || window.navigator.standalone === true;
            const isDismissed = localStorage.getItem('pwaInstallDismissed');
            const dismissedTime = localStorage.getItem('pwaInstallDismissedTime');

            // Show banner again after 7 days
            const sevenDays = 7 * 24 * 60 * 60 * 1000;
            const canShowAgain = !dismissedTime || (Date.now() - parseInt(dismissedTime)) > sevenDays;

            if (isInstalled || (isDismissed && !canShowAgain)) {
                return;
            }

            // Detect iOS
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);

            // For iOS Safari - show after user interaction
            if (isIOS && isSafari) {
                let interactionCount = 0;
                const showIOSPrompt = () => {
                    interactionCount++;
                    if (interactionCount >= 2) {
                        document.removeEventListener('click', showIOSPrompt);
                        setTimeout(() => {
                            banner.classList.add('show');
                        }, 2000);
                    }
                };
                document.addEventListener('click', showIOSPrompt);

                installBtn.addEventListener('click', () => {
                    banner.classList.remove('show');
                    iosModal.classList.add('show');
                });

                iosCloseBtn.addEventListener('click', () => {
                    iosModal.classList.remove('show');
                    localStorage.setItem('pwaInstallDismissed', 'true');
                    localStorage.setItem('pwaInstallDismissedTime', Date.now().toString());
                });

                iosModal.addEventListener('click', (e) => {
                    if (e.target === iosModal) {
                        iosModal.classList.remove('show');
                    }
                });
            }

            // For Android/Chrome - use beforeinstallprompt
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;

                let interactionCount = 0;
                const showPrompt = () => {
                    interactionCount++;
                    if (interactionCount >= 2) {
                        document.removeEventListener('click', showPrompt);
                        setTimeout(() => {
                            banner.classList.add('show');
                        }, 2000);
                    }
                };
                document.addEventListener('click', showPrompt);
            });

            installBtn.addEventListener('click', async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    if (outcome === 'accepted') {
                        console.log('PWA installed');
                    }
                    deferredPrompt = null;
                    banner.classList.remove('show');
                }
            });

            dismissBtn.addEventListener('click', () => {
                banner.classList.remove('show');
                localStorage.setItem('pwaInstallDismissed', 'true');
                localStorage.setItem('pwaInstallDismissedTime', Date.now().toString());
            });

            window.addEventListener('appinstalled', () => {
                banner.classList.remove('show');
                console.log('LazyTimer installed!');
            });
        })();
    </script>

</body>

</html>
